<Window x:Name="Main" x:Class="E.Writer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:E.Writer"
        mc:Ignorable="d"
        Title="E Writer" Height="600" Width="800" AllowDrop="True" MinWidth="800" MinHeight="400" WindowStartupLocation="CenterScreen" KeyUp="Main_KeyUp" Loaded="Main_Loaded" Closing="Main_Closing" Foreground="Black" Icon="图片/E Writer.ico" Background="Black">

    <!--自定义控件模板-->
    <Window.Resources>
        <ControlTemplate x:Key="FrameTemplate" TargetType="{x:Type Frame}">
            <DockPanel>
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                    <Button Content="后退" Margin="4" Command="{x:Static NavigationCommands.BrowseBack}" />
                    <Button Content="前进" Margin="4" Command="{x:Static NavigationCommands.BrowseForward}" />
                    <Button Content="刷新" Margin="4" Command="{x:Static NavigationCommands.Refresh}" />
                </StackPanel>
                <Border BorderBrush="Orange"  BorderThickness="2"  Padding="5">
                    <ContentPresenter />
                </Border>
            </DockPanel>
        </ControlTemplate>

    </Window.Resources>

    <Grid x:Name="MainGrid">
        <DockPanel Margin="0">
            <StackPanel x:Name="LeftArea" Margin="0" Background="#FFF0F0F0">
                <Button x:Name="DirectoryButton" Content="目录" Width="40" Height="40" BorderThickness="0" Background="#FFE6E6E6" Click="DirectoryButton_Click"/>
                <Button x:Name="SettingButton" Content="设置" Width="40" Height="40" BorderThickness="0" Background="#FFE6E6E6" Click="SettingButton_Click"/>
                <Button x:Name="AboutButton" Content="关于" Width="40" Height="40" BorderThickness="0" Background="#FFE6E6E6" Click="AboutButton_Click"/>
            </StackPanel>

            <Grid x:Name="CenterArea" Background="Gainsboro" Width="210">
                <DockPanel x:Name="CenterDirectoryPage">
                    <ComboBox x:Name="Books" BorderBrush="{x:Null}" VerticalAlignment="Top" Height="30" ToolTip="最近打开过的书籍列表" SelectionChanged="Books_SelectionChanged" Background="White" Padding="0" FontSize="14" VerticalContentAlignment="Center" BorderThickness="0" Cursor="Hand" SizeChanged="Books_SizeChanged" DockPanel.Dock="Top" />
                    <WrapPanel Margin="0" Orientation="Horizontal" VerticalAlignment="Top" Background="#FFD2D2D2" DockPanel.Dock="Bottom">
                        <Button x:Name="BtnOpenBook" Content="{DynamicResource 打开书籍}" HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="MenuOpen_Click"/>
                        <Button x:Name="BtnCreateBook" Content="{DynamicResource 创建书籍}" HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="MenuCreateBook_Click"/>
                        <Button x:Name="BtnCreateChapter" Content="{DynamicResource 创建卷册}" HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="MenuCreateChapter_Click"/>
                        <Button x:Name="BtnCreateEssay" Content="{DynamicResource 创建文章}"  HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="MenuCreateEssay_Click"/>
                    </WrapPanel>
                    <TreeView x:Name="FilesTree" Margin="0" SelectedItemChanged="FilesTree_SelectedItemChanged" MouseDoubleClick="FilesTree_MouseDoubleClick" KeyUp="FilesTree_KeyUp" BorderBrush="{x:Null}" Padding="0,5" Background="#00000000"/>
                </DockPanel>

                <DockPanel  x:Name="CenterSettingPage" Visibility="Collapsed">
                    <Button x:Name="BtnReset" Content="{DynamicResource 重置}" Margin="0" VerticalAlignment="Bottom" Click="BtnReset_Click" Height="30" DockPanel.Dock="Top" Background="Gainsboro" BorderBrush="{x:Null}"/>
                    <ScrollViewer>
                        <StackPanel DockPanel.Dock="Top">
                            <Label Content="{DynamicResource 语言}" Height="30" FontWeight="Bold" FontSize="14"/>
                            <ComboBox x:Name="CBSelectedLanguage" Height="30" SelectionChanged="CBSelectedLanguage_SelectionChanged" VerticalContentAlignment="Center"/>

                            <Label Content="{DynamicResource 主题}" Height="30" FontWeight="Bold" FontSize="14"/>
                            <ComboBox x:Name="Skins" Height="30" SelectionChanged="Skins_SelectionChanged" VerticalContentAlignment="Center"/>
                            
                            <Label Content="{DynamicResource 字体}" Height="30" FontWeight="Bold" FontSize="14"/>
                            <ComboBox x:Name="CBFonts" Height="30" SelectionChanged="CBFonts_SelectionChanged" Padding="5,0" AllowDrop="False" VerticalContentAlignment="Center" Cursor="Hand" Margin="0,2">
                                <ComboBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel />
                                    </ItemsPanelTemplate>
                                </ComboBox.ItemsPanel>
                            </ComboBox>
                            
                            <Label Content="{DynamicResource 字号}" Height="30" FontWeight="Bold" FontSize="14"/>
                            <TextBox x:Name="TextSize" TextWrapping="Wrap" Height="30" AllowDrop="False" VerticalContentAlignment="Center" RenderTransformOrigin="0.475,0.92" Background="White" CaretBrush="Black" MinWidth="30" Margin="0" KeyUp="TextSize_KeyUp"/>
                            
                            <Label Content="界面" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="ShowScrollBar" Content="{DynamicResource 显示滚动条}" Checked="ShowScrollBar_Checked" Unchecked="ShowScrollBar_Unchecked" VerticalContentAlignment="Center" Padding="5,0,0,0" Height="30" HorizontalAlignment="Left"/>
                            
                            <Label Content="启动" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="ShowRunInfoCheckBox" Content="{DynamicResource 显示运行信息}" Checked="ShowRunInfo_Checked" Unchecked="ShowRunInfo_Unchecked" Padding="5,0,0,0" VerticalContentAlignment="Center" Height="30" HorizontalAlignment="Left"/>
                            <CheckBox x:Name="AutoOpenBookCheckBox" Content="{DynamicResource 自动打开书籍}" Checked="AutoOpenBook_Checked" Unchecked="AutoOpenBook_Unchecked" Padding="5,0,0,0" VerticalContentAlignment="Center" Height="30" HorizontalAlignment="Left"/>

                            <Label Content="补全" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="AutoBrackets" Content="{DynamicResource 补全书名号}" Checked="AutoBrackets_Checked" Unchecked="AutoBrackets_Unchecked" Padding="5,0,0,0" VerticalContentAlignment="Center" Height="30" HorizontalAlignment="Left"/>
                            <CheckBox x:Name="AutoCompletion" Content="{DynamicResource 自动补全}" Checked="AutoCompletion_Checked" Unchecked="AutoCompletion_Unchecked" Padding="5,0,0,0" VerticalContentAlignment="Center" Height="30" HorizontalAlignment="Left"/>

                            <Label Content="缩进" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="AutoIndentation" Content="{DynamicResource 自动缩进}" HorizontalAlignment="Left" VerticalAlignment="Center" Checked="AutoIndentation_Checked" Unchecked="AutoIndentation_Unchecked" VerticalContentAlignment="Center" Padding="5,0,0,0" Height="30"/>
                            <TextBox x:Name="AutoIndentations" Height="30"  TextWrapping="Wrap" Text="4" RenderTransformOrigin="0.818,0.427" ToolTip="按回车键保存更改" KeyUp="AutoIndentations_KeyUp" AllowDrop="False" VerticalContentAlignment="Center" MinWidth="30" Margin="0"/>

                            <Label Content="保存" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="AutoSaveWhenSwitch" Content="{DynamicResource 文章切换时自动保存}" Checked="AutoSaveWhenSwitch_Checked" Unchecked="AutoSaveWhenSwitch_Unchecked" VerticalContentAlignment="Center" Padding="5,0,0,0" Height="30" HorizontalAlignment="Left"/>
                            <CheckBox x:Name="AutoSaveEvery" Content="{DynamicResource 间隔时间自动保存}" HorizontalAlignment="Left" VerticalAlignment="Center" Checked="AutoSaveEvery_Checked" Unchecked="AutoSaveEvery_Unchecked" Padding="5,0,0,0" VerticalContentAlignment="Center" Height="30"/>
                            <TextBox x:Name="AutoSaveTime" Height="30" TextWrapping="Wrap" Text="5" RenderTransformOrigin="0.818,0.427" KeyUp="AutoSaveTime_KeyUp" ToolTip="按回车键保存更改" AllowDrop="False" VerticalContentAlignment="Center" Margin="0" MinWidth="30"/>

                            <Label Content="备份" Height="30" FontWeight="Bold" FontSize="14"/>
                            <CheckBox x:Name="AutoBackup" Content="{DynamicResource 间隔时间自动备份}" HorizontalAlignment="Left" VerticalAlignment="Center" Unchecked="AutoBackup_Unchecked" VerticalContentAlignment="Center" Padding="5,0,0,0" Checked="AutoBackup_Checked" Height="30"/>
                            <TextBox x:Name="AutoBackupTime" Height="30" TextWrapping="Wrap" Text="10" KeyUp="AutoBackupTime_KeyUp" ToolTip="按回车键保存更改" AllowDrop="False" VerticalContentAlignment="Center" Margin="0" MinWidth="30"/>
                        </StackPanel>
                    </ScrollViewer>
                </DockPanel>

                <DockPanel x:Name="CenterAboutPage" Visibility="Collapsed">
                    <StackPanel DockPanel.Dock="Top">
                        <Label Content="{DynamicResource 名称}" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" FontWeight="Bold" FontSize="14"/>
                        <Label x:Name="ThisName" Content="?" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top"/>
                        <Label Content="{DynamicResource 说明}" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" FontWeight="Bold" FontSize="14"/>
                        <Label x:Name="Description" Content="?" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top"/>
                        <Label Content="{DynamicResource 作者}" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" FontWeight="Bold" FontSize="14"/>
                        <Label x:Name="Developer" Content="?" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top"/>
                        <Label Content="{DynamicResource 版本}" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" FontWeight="Bold" FontSize="14"/>
                        <Label x:Name="Version" Content="?" Margin="0" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                        <Label Content="{DynamicResource 更新日志}" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" FontWeight="Bold" FontSize="14"/>
                    </StackPanel>
                    <WrapPanel DockPanel.Dock="Bottom" Background="#FFD2D2D2"  Height="90">
                        <Button x:Name="CheckNewButton" Content="{DynamicResource 检查更新}" HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="CheckNewButton_Click"/>
                        <Button x:Name="ClearRunInfoButton" Content="{DynamicResource 清空运行信息}" HorizontalAlignment="Left" Width="105" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="ClearRunInfoButton_Click"/>
                        <Button x:Name="HomePageButton" Content="{DynamicResource 个人站点}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="HomePageButton_Click"/>
                        <Button x:Name="InfoPageButton" Content="{DynamicResource 软件主页}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="InfoPageButton_Click" />
                        <Button x:Name="DownloadPage" Content="{DynamicResource 提交反馈}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="DownloadPage_Click"/>
                        <Button x:Name="GitHubPage" Content="{DynamicResource 开源地址}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="GitHubPage_Click"/>
                        <Button x:Name="QQGroup" Content="{DynamicResource 交流QQ群}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="QQGroup_Click"/>
                        <Button x:Name="BitCoinAddress" Content="{DynamicResource 赞助开发者}" HorizontalAlignment="Left" Width="70" Height="30" BorderBrush="{x:Null}" Background="{x:Null}" Cursor="Hand" Click="BitCoinAddress_Click"/>
                    </WrapPanel>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <TextBlock x:Name="UpdateNote" Text="?" TextWrapping="Wrap" Padding="5" />
                    </ScrollViewer>
                </DockPanel>
            </Grid>

            <DockPanel x:Name="RightArea" Background="#FFC8C8C8" Margin="0">
                <TextBox x:Name="EssayName" Height="30" VerticalAlignment="Top" ToolTip="当前未选中任何文件" VerticalContentAlignment="Center" GotFocus="EssayName_GotFocus" KeyUp="EssayName_KeyUp" BorderBrush="#FFC8C8C8" CaretBrush="Black" Background="#FFC8C8C8" DockPanel.Dock="Top" Text="标题" FontWeight="Bold" FontSize="16" Padding="5,0"/>
                <DockPanel DockPanel.Dock="Bottom"> 
                    <Label x:Name="Words" Content="字数：0" Margin="0,0,5,0" Padding="5" ScrollViewer.VerticalScrollBarVisibility="Disabled" VerticalContentAlignment="Center" MaxWidth="100" Height="30" VerticalAlignment="Center" HorizontalAlignment="Center" DockPanel.Dock="Right"/>
                    <Label x:Name="RowAndColumn" Content="行：0，列：0" Margin="0,0,5,0" VerticalAlignment="Center" Padding="5" Height="30" VerticalContentAlignment="Center" MaxWidth="150" HorizontalAlignment="Center" DockPanel.Dock="Right"/>
                    <Label x:Name="HelpMessage" Content="帮助消息" Margin="0" Height="30" VerticalContentAlignment="Center"/>
                </DockPanel>
                <TextBox x:Name="FileContent" VerticalScrollBarVisibility="Auto" AcceptsReturn="true" TextWrapping="Wrap" 
                 TextChanged="FileContent_TextChanged" Background="#FFB4B4B4" KeyUp="FileContent_KeyUp" 
                 SelectionChanged="FileContent_SelectionChanged" SizeChanged="FileContent_SizeChanged" 
                 LostFocus="FileContent_LostFocus" PreviewTextInput="FileContent_PreviewTextInput" BorderBrush="#FFB4B4B4" CaretBrush="Black" Padding="5" />
                <!--<Frame Margin="197,289,119,109" Source="AboutPage.xaml" Template="{StaticResource FrameTemplate}"></Frame>-->
            </DockPanel>
        </DockPanel>
    </Grid>
</Window>
